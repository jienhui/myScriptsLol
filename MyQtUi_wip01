from PySide.QtGui import *
from PySide.QtCore import *
import maya.OpenMayaUI as mui
from shiboken import wrapInstance

def mayaMainWindow():
    mainWindow= mui.MQtUtil.mainWindow()
    return wrapInstance(long(mainWindow), QWidget)
    
class Form(QDialog):
    def __init__(self, parent=mayaMainWindow()):
        super(Form, self).__init__()
        # Menu Bar
        bar= QMenuBar()
        
        barFile= bar.addMenu("Edit")
        fileReset= barFile.addAction("Reset      ")
        fileReset.setShortcut("Ctrl + R")
        self.connect( fileReset, SIGNAL("triggered()"), self.resetUI() )
        
        barFile.addSeparator()
        
        fileQuit= barFile.addAction("Quit      ")
        self.connect( fileQuit, SIGNAL("triggered()"), SLOT("reject()") )

        barHelp= bar.addMenu("Help")
        helpReadme= barHelp.addAction("ReadMe      ")
        self.connect( helpReadme, SIGNAL("triggered()"), self.readMeDialog() )
          
        # Tab Widget
        tab= QTabWidget()
        self.tab1= QWidget()
        self.tab2= QWidget()
        self.tab3= QWidget()
        tab.addTab( self.tab1, "Prop" )
        tab.addTab( self.tab2, "Biped" )
        tab.addTab( self.tab3, "Quadruped" )
        self.tab1UI()
        #self.tab2UI()
        #self.tab3UI()
        
        # Layout
        mainLayout= QFormLayout()
        mainLayout.addWidget( bar )
        mainLayout.setVerticalSpacing(5)
        mainLayout.addWidget( tab )
        # Window Structure
        self.setLayout(mainLayout)
        self.setWindowTitle("Practice")
        self.setWindowFlags(Qt.WindowStaysOnTopHint)
        
    # Function
    def resetUI(self):
        print "Reset"
        
    def readMeDialog(self):
        print "Read Me"
        
    # Prop UI
    def tab1UI(self):
        tab1Layout= QVBoxLayout()
        
        # Buttons Widget
        bttn1= QPushButton()
        bttn1.setText("button 1")
        
        bttn2= QPushButton()
        bttn2.setText("button 2")
        
        bttn3= QPushButton()
        bttn3.setText("button 3")
        
        bttn4= QPushButton()
        bttn4.setText("button 4")
        
        tab1Layout.addWidget(bttn1)
        tab1Layout.addWidget(bttn2)
        tab1Layout.addWidget(bttn3)
        tab1Layout.addWidget(bttn4)
        self.tab1.setLayout( tab1Layout )



if __name__ == "__main__":
    a= Form()
    a.show()
